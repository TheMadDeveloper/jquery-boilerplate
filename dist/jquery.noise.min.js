/*
 *  jQuery Noise - v0.1.0
 *  A widget for rendering and displaying noise/static animations via html5 canvas. Depends on the jQueryUI widget factory.
 *  
 *
 *  Made by Keith Kerlan
 *  Under MIT License
 */
!function(a){a.widget("k3.noise",{options:{c1:[255,255,255,255],frames:32,frame_rate:1},_create:function(){var a=this.element;this._width=a.width(),this._height=a.height(),this._ctx=this.element[0].getContext("2d"),this._t=0,this.frame_count=this.option("frames"),this.rate=this.option("frame_rate")||1,this._noise_frames=[];for(var b=this.frame_count;b>0;b--)this._noise_frames.push(this._renderNoiseFrame());this.anim_id=!1,this._redraw()},destroy:function(){a.Widget.prototype.destroy.call(this)},_redraw:function(){var a=this;this._t%this.rate===0&&a._render(this._t),this._t++,a.anim_id=requestAnimationFrame(function(){a._redraw.apply(a)})},_render:function(a){this._ctx.putImageData(this._noise_frames[a%this.frame_count],0,0)},_renderNoiseFrame:function(a,b){var c=this._ctx.createImageData(this._width,this._height);a=a||this.option("c1"),b=b||this.option("c2");for(var d=0,e=c.data.length;e>d;d+=4)Math.random()<.5?this._setPixel(c.data,d,a):b&&c.data.spliceArray(d,4,b);return c},_setPixel:function(a,b,c){for(var d=0;4>d;d++)a[b+d]=c[d]}})}(jQuery,window,document);